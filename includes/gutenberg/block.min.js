!function e(t,o,r,l){var n=o.createElement,a=o.Fragment;r.BlockControls;var i=r.RichText,s=r.InspectorControls,d=l.PanelBody,m=l.TextControl,u=l.__experimentalNumberControl;l.TextareaControl;var b=l.SelectControl,f=l.ColorPicker,g=r.MediaUpload,p=l.Button,c=r.useBlockProps;let h={display:"block",marginTop:"10px"};var y=gb_sf4wp_gutenberg_email_optin_get_lists(),B=[],v=!0;y.then(e=>{e?(e=JSON.parse(e)).result.data.map(e=>{B.push({value:e.id,label:e.name})}):(B.push({value:"-",label:"-"}),v=!1,alert(sf4wp_gutenberg.error_retrieve_lists))}),wp.blocks.registerBlockType("gb-sf4wp/gutenberg-email-optin",{title:"Gutenberg Email Optin",description:sf4wp_gutenberg.block_description,category:"widgets",icon:"feedback",attributes:{formHeading:{type:"string",source:"html",selector:"h2",default:sf4wp_gutenberg.block_default_heading},formDescription:{type:"string",source:"html",selector:"p",default:sf4wp_gutenberg.block_default_content},formHeadingTextAlign:{type:"string",default:"left"},formDescriptionTextAlign:{type:"string",default:"left"},formBtnText:{type:"string",default:sf4wp_gutenberg.block_default_button_text},formBtnBgColor:{type:"string",default:"#005C7A"},formBtnTextColor:{type:"string",default:"#FFFFFF"},formBtnBorderStyle:{type:"string",default:"hidden"},formBtnBorderWidth:{type:"number",default:1},formBtnBorderColor:{type:"string",default:"#000"},formBtnBorderRadius:{type:"number",default:0},formMaxWidth:{type:"number",default:""},formBorderStyle:{type:"string",default:"hidden"},formBorderWidth:{type:"number",default:1},formBorderColor:{type:"string",default:"#000"},formBorderRadius:{type:"number",default:0},formBtnStyle:{type:"string",source:"attribute",selector:"input",attribute:"style"},formBgColor:{type:"string",default:"#7EBEC5"},formBgImg:{type:"string"},formStyle:{type:"string",source:"attribute",selector:"div",attribute:"style"},formList:{type:"string"}},edit:function({attributes:e,setAttributes:t}){v||t({formList:""});var o=wp.blockEditor.useBlockProps();let r=e=>{t({formList:e})},l=e=>{t({formBtnText:e})},c=e=>{t({formBtnTextColor:e})},y=e=>{t({formBtnBgColor:e})},x=e=>{t({formBgColor:e})},C=e=>{t({formBgImg:e.url})},k=e=>{t({formBgImg:""})};var T,w=e.formBtnStyle;w={backgroundColor:e.formBtnBgColor,color:e.formBtnTextColor,maxWidth:"100%",minWidth:"100%",height:"45px",borderStyle:e.formBtnBorderStyle,borderWidth:e.formBtnBorderWidth+"px",borderColor:e.formBtnBorderColor,borderRadius:e.formBtnBorderRadius+"px"};var S=e.formStyle,W=e.formBgColor,N=e.formBgImg;void 0===N&&(N=""),S={backgroundColor:W,backgroundImage:"url("+N+")",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderStyle:e.formBorderStyle,borderWidth:e.formBorderWidth+"px",borderColor:e.formBorderColor,maxWidth:e.formMaxWidth?e.formMaxWidth+"px":"",borderRadius:e.formBorderRadius+"px"};var $={padding:"12px"},R="is-button is-destructive";return R=N?R+" gb-sf4wp-gutenberg-visible":R+" gb-sf4wp-gutenberg-invisible",n(a,{},n(s,{},n(d,{title:sf4wp_gutenberg.label_select_list},n(b,{options:B,value:e.formList,onChange:r,className:"gb-sf4wp-gutenberg-email-optin-form-controls-lists"})),n(d,{title:sf4wp_gutenberg.panel_form_settings,initialOpen:!1},n("label",{style:h},sf4wp_gutenberg.label_heading_align),n(b,{options:[{label:"left",value:"left"},{label:"right",value:"right"},{label:"center",value:"center"},{label:"justify",value:"justify"},],value:e.formHeadingTextAlign,onChange:function(e){t({formHeadingTextAlign:e})}}),n("label",{style:h},sf4wp_gutenberg.label_subheading_align),n(b,{options:[{label:"left",value:"left"},{label:"right",value:"right"},{label:"center",value:"center"},{label:"justify",value:"justify"},],value:e.formDescriptionTextAlign,onChange:function(e){t({formDescriptionTextAlign:e})}}),n("label",{style:h},sf4wp_gutenberg.label_form_width),n("label",{style:{display:"block",color:"#777777",fontSize:"12px",lineHeight:1.2}},sf4wp_gutenberg.label_form_width_hint),n(u,{placeholder:"100%",onChange:function(e){t({formMaxWidth:e})},value:e.formMaxWidth}),n("label",{style:h},sf4wp_gutenberg.label_form_border_style),n(b,{options:[{label:"none",value:"none"},{label:"solid",value:"solid"},{label:"dotted",value:"dotted"},{label:"dashed",value:"dashed"},{label:"double",value:"double"},],value:e.formBorderStyle,onChange:function(e){t({formBorderStyle:e})}}),n("label",{style:h},sf4wp_gutenberg.label_form_border_width),n(u,{onChange:function(e){t({formBorderWidth:e})},value:e.formBorderWidth}),n("label",{style:h},sf4wp_gutenberg.label_form_border_radius),n(u,{onChange:function(e){t({formBorderRadius:e})},value:e.formBorderRadius}),n("label",{style:h},sf4wp_gutenberg.label_form_border_color),n(f,{onChange:function(e){t({formBorderColor:e})}}),n("label",{style:h},sf4wp_gutenberg.label_form_bg_color),n(f,{onChange:x,enableAlpha:!0}),n("label",{style:h},sf4wp_gutenberg.label_form_bg_image),n("div",{className:"components-button-group"},n(g,{onSelect:C,accept:"image/*",render:function(e){return n(p,{onClick:e.open,className:"is-button is-secondary"},sf4wp_gutenberg.button_upload_image)}}),n(p,{onClick:k,className:R},sf4wp_gutenberg.button_remove_image))),n(d,{title:sf4wp_gutenberg.panel_button_settings,initialOpen:!1},n("label",{style:h},sf4wp_gutenberg.label_button_border_style),n(b,{options:[{label:"none",value:"none"},{label:"solid",value:"solid"},{label:"dotted",value:"dotted"},{label:"dashed",value:"dashed"},{label:"double",value:"double"},],value:e.formBtnBorderStyle,onChange:function(e){t({formBtnBorderStyle:e})}}),n("label",{style:h},sf4wp_gutenberg.label_button_border_width),n(u,{onChange:function(e){t({formBtnBorderWidth:e})},value:e.formBtnBorderWidth}),n("label",{style:h},sf4wp_gutenberg.label_button_border_radius),n(u,{onChange:function(e){t({formBtnBorderRadius:e})},value:e.formBtnBorderRadius}),n("label",{style:h},sf4wp_gutenberg.label_button_border_color),n(f,{onChange:function(e){t({formBtnBorderColor:e})}}),n("label",{style:h},sf4wp_gutenberg.label_button_label),n(m,{placeholder:sf4wp_gutenberg.placeholder_button_label,onChange:l,value:e.formBtnText}),n("label",{style:h},sf4wp_gutenberg.label_button_label_color),n(f,{onChange:c}),n("label",{style:h},sf4wp_gutenberg.label_button_bg_color),n(f,{onChange:y}))),n("div",{className:"gb-sf4wp-gutenberg-email-optin-form-wrapper",style:S},n(i,Object.assign(o,{style:{"text-align":e.formHeadingTextAlign},tagName:"h2",value:e.formHeading,onChange:function(e){t({formHeading:e})},placeholder:sf4wp_gutenberg.block_default_heading})),n(i,Object.assign(o,{style:{"text-align":e.formDescriptionTextAlign},tagName:"p",value:e.formDescription,onChange:function(e){t({formDescription:e})},placeholder:sf4wp_gutenberg.block_default_content})),n(m,{type:"text",placeholder:sf4wp_gutenberg.placeholder_first_name,style:$}),n(m,{type:"text",placeholder:sf4wp_gutenberg.placeholder_last_name,style:$}),n(m,{type:"email",placeholder:sf4wp_gutenberg.placeholder_email,style:$}),n(p,{value:e.formBtnText,style:w},e.formBtnText)))},save:function({attributes:e}){let t=c.save();var o,r=e.formList,l=e.formBtnStyle;l={backgroundColor:e.formBtnBgColor,color:e.formBtnTextColor,padding:"15px",border:"0",cursor:"pointer",borderStyle:e.formBtnBorderStyle,borderWidth:e.formBtnBorderWidth+"px",borderColor:e.formBtnBorderColor,borderRadius:e.formBtnBorderRadius+"px"};var a=e.formStyle,i=e.formBgColor,s=e.formBgImg;void 0===s&&(s="");var d={padding:"12px"};return n("div",{className:"gb-sf4wp-gutenberg-email-optin-form-wrapper",style:a={backgroundColor:i,backgroundImage:"url("+s+")",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderStyle:e.formBorderStyle,borderWidth:e.formBorderWidth+"px",borderColor:e.formBorderColor,maxWidth:e.formMaxWidth?e.formMaxWidth+"px":"",borderRadius:e.formBorderRadius+"px"}},n(wp.blockEditor.RichText.Content,Object.assign(t,{style:{"text-align":e.formHeadingTextAlign},tagName:"h2",value:e.formHeading})),n(wp.blockEditor.RichText.Content,Object.assign(t,{style:{"text-align":e.formDescriptionTextAlign},tagName:"p",value:e.formDescription})),n("div",{className:"gb-sf4wp-gutenberg-email-optin-error-msg"},""),n("div",{className:"gb-sf4wp-gutenberg-email-optin-success-msg"},""),n("div",{className:"components-base-control__field"},n("input",{type:"text",placeholder:sf4wp_gutenberg.placeholder_first_name,className:"components-text-control__input gb-sf4wp-gutenberg-email-optin-first-name",style:d})),n("div",{className:"components-base-control__field"},n("input",{type:"text",placeholder:sf4wp_gutenberg.placeholder_last_name,className:"components-text-control__input gb-sf4wp-gutenberg-email-optin-last-name",style:d})),n("div",{className:"components-base-control__field"},n("input",{type:"email",placeholder:sf4wp_gutenberg.placeholder_email,className:"components-text-control__input gb-sf4wp-gutenberg-email-optin-email-address",style:d})),n("div",{className:"components-base-control__field"},n("input",{type:"submit",style:l,value:e.formBtnText,className:"gb-sf4wp-gutenberg-email-optin-submit"})),n("div",{className:"components-base-control__field"},n("input",{type:"hidden",className:"components-text-control__input gb-sf4wp-gutenberg-email-optin-list",value:r})))}})}(window.wp.blocks,window.wp.element,window.wp.blockEditor,window.wp.components);function gb_sf4wp_gutenberg_email_optin_get_lists(){var e=sf4wp_gutenberg.url+"?action=sf4wp_gutenberg_get_lists";let t=fetch(e,{method:"GET"}).then(e=>e.json()).then(e=>e).catch(e=>{console.log(e)});return t}