!function(e,c,a,b){var f=c.createElement,g=c.Fragment;a.BlockControls;var h=a.RichText,i=a.InspectorControls,j=b.TextControl,k=b.TextareaControl,l=b.SelectControl,m=b.ColorPicker,n=a.MediaUpload,o=b.Button,p=a.useBlockProps;let q={marginBottom:"10px",display:"block"};var d=gb_sf4wp_gutenberg_email_optin_get_lists(),r=[],s=!0;d.then(a=>{a?(a=JSON.parse(a)).result.data.map(a=>{r.push({value:a.id,label:a.name})}):(r.push({value:"-",label:"-"}),s=!1,alert(sf4wp_gutenberg.error_retrieve_lists))}),wp.blocks.registerBlockType("gb-sf4wp/gutenberg-email-optin",{title:"Gutenberg Email Optin",description:sf4wp_gutenberg.block_description,category:"widgets",icon:"feedback",attributes:{formHeading:{type:"string",default:"Your Title Goes Here"},formHeadingStyle:{type:"string",source:"attribute",selector:"h2",attribute:"style"},formHeadingTextColor:{type:"string",default:"#FFFFFF"},formDescription:{type:"string",default:"Your content goes here. Edit or remove this text in the block settings."},formDescriptionStyle:{type:"string",source:"attribute",selector:"p",attribute:"style"},formDescriptionTextColor:{type:"string",default:"#FFFFFF"},formBtnText:{type:"string",default:"Subscribe"},formBtnBgColor:{type:"string",default:"#005C7A"},formBtnTextColor:{type:"string",default:"#FFFFFF"},formBtnStyle:{type:"string",source:"attribute",selector:"input",attribute:"style"},formBgColor:{type:"string",default:"#7EBEC5"},formBgImg:{type:"string"},formStyle:{type:"string",source:"attribute",selector:"div",attribute:"style"},formList:{type:"string"}},edit:function({attributes:a,setAttributes:v}){s||v({formList:""});var e=a.formHeadingStyle;e={color:a.formHeadingTextColor};var p=a.formDescriptionStyle,w=a.formDescriptionTextColor;p={color:w};var t=a.formBtnStyle,x=a.formBtnBgColor,y=a.formBtnTextColor;t={backgroundColor:x,color:y,maxWidth:"100%",minWidth:"100%",height:"45px"};var u=a.formStyle,z=a.formBgColor,b=a.formBgImg;void 0===b&&(b=""),u={backgroundColor:z,backgroundImage:"url("+b+")",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};var d={padding:"12px"},c="is-button is-destructive";return c=b?c+" sf4wp-gutenberg-visible":c+" sf4wp-gutenberg-invisible",f(g,{},f(i,{},f("div",{className:"components-panel__body is-opened gb-sf4wp-gutenberg-email-optin-form-controls"},f("label",{style:q},sf4wp_gutenberg.label_form_heading),f(j,{placeholder:sf4wp_gutenberg.placeholder_form_heading,onChange(a){v({formHeading:a})},value:a.formHeading}),f("label",{style:q},sf4wp_gutenberg.label_form_description),f(k,{placeholder:sf4wp_gutenberg.placeholder_form_description,onChange(a){v({formDescription:a})},value:a.formDescription}),f("label",{style:q},sf4wp_gutenberg.label_select_list),f(l,{options:r,value:a.formList,onChange(a){v({formList:a})},className:"gb-sf4wp-gutenberg-email-optin-form-controls-lists"}),f("label",{style:q},sf4wp_gutenberg.label_button_label),f(j,{placeholder:sf4wp_gutenberg.placeholder_button_label,onChange(a){v({formBtnText:a})},value:a.formBtnText}),f("label",{style:q},sf4wp_gutenberg.label_heading_text_color),f(m,{onChange(a){v({formHeadingTextColor:a})}}),f("label",{style:q},sf4wp_gutenberg.label_description_text_color),f(m,{onChange(a){v({formDescriptionTextColor:a})}}),f("label",{style:q},sf4wp_gutenberg.label_button_label_color),f(m,{onChange(a){v({formBtnTextColor:a})}}),f("label",{style:q},sf4wp_gutenberg.label_button_bg_color),f(m,{onChange(a){v({formBtnBgColor:a})}}),f("label",{style:q},sf4wp_gutenberg.label_form_bg_color),f(m,{onChange(a){v({formBgColor:a})}}),f("label",{style:q},sf4wp_gutenberg.label_form_bg_image),f("div",{className:"components-button-group"},f(n,{onSelect(a){v({formBgImg:a.url})},accept:"image/*",render:function(a){return f(o,{onClick:a.open,className:"is-button is-secondary"},sf4wp_gutenberg.button_upload_image)}}),f(o,{onClick(a){v({formBgImg:""})},className:c},sf4wp_gutenberg.button_remove_image)))),f("div",{className:"gb-sf4wp-gutenberg-email-optin-form-wrapper",style:u},f(h.Content,{tagName:"h2",value:a.formHeading,style:e},a.formHeading),f(h.Content,{tagName:"p",value:a.formDescription,style:p},a.formDescription),f(j,{type:"text",placeholder:sf4wp_gutenberg.placeholder_first_name,style:d}),f(j,{type:"text",placeholder:sf4wp_gutenberg.placeholder_last_name,style:d}),f(j,{type:"email",placeholder:sf4wp_gutenberg.placeholder_email,style:d}),f(o,{value:a.formBtnText,style:t},a.formBtnText)))},save:function({attributes:a}){p.save();var d=a.formHeading,e=a.formDescription,l=a.formList,g=a.formHeadingStyle,m=a.formHeadingTextColor;g={color:m};var i=a.formDescriptionStyle,n=a.formDescriptionTextColor;i={color:n};var j=a.formBtnStyle,o=a.formBtnBgColor,q=a.formBtnTextColor;j={backgroundColor:o,color:q,padding:"15px",border:"0",cursor:"pointer"};var k=a.formStyle,r=a.formBgColor,b=a.formBgImg;void 0===b&&(b=""),k={backgroundColor:r,backgroundImage:"url("+b+")",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};var c={padding:"12px"};return f("div",{className:"gb-sf4wp-gutenberg-email-optin-form-wrapper",style:k},f(h.Content,{tagName:"h2",value:d,style:g},d),f(h.Content,{tagName:"p",value:e,style:i},e),f("div",{className:"gb-sf4wp-gutenberg-email-optin-error-msg"},""),f("div",{className:"gb-sf4wp-gutenberg-email-optin-success-msg"},""),f("div",{className:"components-base-control__field"},f("input",{type:"text",placeholder:"First name",className:"components-text-control__input gb-sf4wp-gutenberg-email-optin-first-name",style:c})),f("div",{className:"components-base-control__field"},f("input",{type:"text",placeholder:"Last name",className:"components-text-control__input gb-sf4wp-gutenberg-email-optin-last-name",style:c})),f("div",{className:"components-base-control__field"},f("input",{type:"email",placeholder:"Email",className:"components-text-control__input gb-sf4wp-gutenberg-email-optin-email-address",style:c})),f("div",{className:"components-base-control__field"},f("input",{type:"submit",style:j,value:a.formBtnText,className:"gb-sf4wp-gutenberg-email-optin-submit"})),f("div",{className:"components-base-control__field"},f("input",{type:"hidden",className:"components-text-control__input gb-sf4wp-gutenberg-email-optin-list",value:l})))}})}(window.wp.blocks,window.wp.element,window.wp.blockEditor,window.wp.components);function gb_sf4wp_gutenberg_email_optin_get_lists(){var a=sf4wp_gutenberg.url+"?action=sf4wp_gutenberg_get_lists";let b=fetch(a,{method:"GET"}).then(a=>a.json()).then(a=>a).catch(a=>{console.log(a)});return b}